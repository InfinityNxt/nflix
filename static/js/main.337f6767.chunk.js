(this.webpackJsonpnetlifytest=this.webpackJsonpnetlifytest||[]).push([[0],{18:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(1),s=c.n(n),r=c(22),i=c.n(r),l=(c(29),c(18),c(9)),o=c(2),d=c(15),j=c(8),u=c.n(j),m=c(11),b=c(7);var v=function(e){var t=e.movies,c=e.favouriteComponent,n=e.handleFavouriteClicked,s=c;return Object(a.jsx)(a.Fragment,{children:t.map((function(e){return Object(a.jsxs)("div",{className:"image-container d-flex justify-content-start ml-3 mt-3 mb-3",children:[Object(a.jsx)(l.b,{to:"/".concat(e.id),children:Object(a.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:e.original_title,width:"200px"})}),Object(a.jsx)("div",{onClick:function(){return n(e)},className:"overlay d-flex align-items-center justify-content-center",children:Object(a.jsx)(s,{})})]},e.id)}))})};var h=function(e){var t=e.heading,c=e.size,n=void 0===c?"30px":c,s=e.color,r=void 0===s?"#bfdbf7":s;return Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{style:{fontSize:n,color:r},children:t})})};var O=function(e){var t=e.searchValue,c=e.setSearchValue;return Object(a.jsx)("div",{className:"col col-sm-4",children:Object(a.jsx)("input",{className:"form-control",value:t,onChange:function(e){return c(e.target.value)},placeholder:"Type to Search..."})})};var x=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"mr-2",children:"Add to favourites"}),Object(a.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-heart-fill",fill:"red",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{fillRule:"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"})})]})};var f=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"mr-2",children:"Remove"}),Object(a.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-x-square",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{fillRule:"evenodd",d:"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),Object(a.jsx)("path",{fillRule:"evenodd",d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})]})]})};var p=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(""),i=Object(b.a)(r,2),l=i[0],o=i[1],j=Object(n.useState)([]),p=Object(b.a)(j,2),g=p[0],N=p[1],w=Object(n.useState)([]),y=Object(b.a)(w,2),S=y[0],k=y[1];Object(n.useEffect)((function(){F(l)}),[l]),Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("react-movie-app-favourites"));k(e)}),[]),Object(n.useEffect)((function(){C()}),[]);var F=function(){var e=Object(m.a)(u.a.mark((function e(t){var c,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=4;break}s([]),e.next=12;break;case 4:return c="https://api.themoviedb.org/3/search/movie?api_key=31370bdd8fc99a1a12ee8a8da8cae936&language=en-US&query=".concat(t,"&page=1&include_adult=false"),e.next=7,fetch(c);case 7:return a=e.sent,e.next=10,a.json();case 10:(n=e.sent).results&&s(n.results);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/movie/popular?api_key=31370bdd8fc99a1a12ee8a8da8cae936&language=en-US&page=1",e.next=3,fetch("https://api.themoviedb.org/3/movie/popular?api_key=31370bdd8fc99a1a12ee8a8da8cae936&language=en-US&page=1");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,N(c.results);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){if(S.includes(e))alert("Already Favourited");else{var t=[].concat(Object(d.a)(S),[e]);k(t),L(t)}},L=function(e){localStorage.setItem("react-movie-app-favourites",JSON.stringify(e))};return Object(a.jsxs)("div",{className:"container-fluid movie-app",children:[Object(a.jsxs)("div",{className:"row d-flex align-items-center mt-2 mb-2",children:[Object(a.jsx)(h,{heading:"nFlix",size:"50px",color:"#DB222A"}),Object(a.jsx)(O,{searchValue:l,setSearchValue:o})]}),""!==l&&Object(a.jsx)("div",{className:"row",children:Object(a.jsx)(h,{heading:"search Results"})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)(v,{movies:c,handleFavouriteClicked:_,favouriteComponent:x})}),Object(a.jsx)("div",{className:"row d-flex align-items-center mt-2",children:Object(a.jsx)(h,{heading:"Popular Moives"})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)(v,{movies:g,handleFavouriteClicked:_,favouriteComponent:x})}),Object(a.jsx)("div",{className:"row d-flex align-items-center mt-2",children:Object(a.jsx)(h,{heading:"Favourites"})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)(v,{movies:S,handleFavouriteClicked:function(e){var t=S.filter((function(t){return t.id!==e.id}));k(t),L(t)},favouriteComponent:f})})]})};var g=function(e){var t=e.movies;return Object(a.jsx)(a.Fragment,{children:t.map((function(e){return Object(a.jsx)("div",{className:"image-container d-flex justify-content-start mt-3 mr-2 mb-3",children:Object(a.jsx)(l.b,{to:"/".concat(e.id),children:Object(a.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:e.original_title,width:"150px"})})},e.id)}))})};var N=function(e){var t=e.match,c=Object(n.useState)({}),s=Object(b.a)(c,2),r=s[0],i=s[1],o=Object(n.useState)([]),j=Object(b.a)(o,2),v=j[0],h=j[1],O=Object(n.useState)([]),x=Object(b.a)(O,2),f=x[0],p=x[1],N=Object(n.useState)(!1),w=Object(b.a)(N,2),y=w[0],S=w[1],k=Object(n.useState)(!1),F=Object(b.a)(k,2),C=F[0],_=F[1],L=r.genres;Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("react-movie-app-favourites"));p(e)}),[]),Object(n.useEffect)((function(){try{if(f!==[]||r!=={})f.filter((function(e){return e.id===r.id}))[0].id?S(!0):S(!1)}catch(e){}}),[f,r]),Object(n.useEffect)((function(){M(),z()}),[t.params.id]);var M=function(){var e=Object(m.a)(u.a.mark((function e(){var c,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),c="https://api.themoviedb.org/3/movie/".concat(t.params.id,"?api_key=31370bdd8fc99a1a12ee8a8da8cae936&language=en-US"),e.next=4,fetch(c);case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,i(n),_(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(m.a)(u.a.mark((function e(){var c,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),c="https://api.themoviedb.org/3/movie/".concat(t.params.id,"/similar?api_key=31370bdd8fc99a1a12ee8a8da8cae936&language=en-US&page=1"),e.next=4,fetch(c);case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,h(n.results),_(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(e){localStorage.setItem("react-movie-app-favourites",JSON.stringify(e))};return Object(a.jsx)(a.Fragment,{children:C?Object(a.jsx)("div",{className:"detail-spinner",children:Object(a.jsx)("div",{className:"spinner-border text-secondary ",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("nav",{"aria-label":"breadcrumb",children:Object(a.jsxs)("ol",{className:"breadcrumb bg-transparent",children:[Object(a.jsx)("li",{className:"breadcrumb-item",children:Object(a.jsx)(l.b,{to:"/home",children:"Home"})}),Object(a.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:r.original_title})]})}),Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-sm-5 col-md-3",children:Object(a.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(r.poster_path),className:"img-responsive",alt:"...",width:"250px"})}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("h3",{className:"mt-0",children:r.original_title}),L&&L.map((function(e){return Object(a.jsx)("span",{className:"mr-2 pl-2 pr-2 genre rounded",children:e.name},e.id)})),Object(a.jsxs)("div",{className:"mt-4",children:[Object(a.jsxs)("div",{className:"row mt-2 mb-2",children:[Object(a.jsx)("div",{className:"col-3 col-sm-3 ",children:"IMDB "+r.vote_average+"/10 "}),Object(a.jsx)("div",{className:"col",children:"- "+r.vote_count+" votes"})]}),Object(a.jsxs)("div",{className:"row mt-2 mb-2",children:[Object(a.jsx)("div",{className:"col-3 col-sm-3",children:"Budget"}),Object(a.jsx)("div",{className:"col",children:"- $ "+r.budget})]}),Object(a.jsxs)("div",{className:"row mt-2 mb-2",children:[Object(a.jsx)("div",{className:"col-3 col-sm-3",children:"Duration"}),Object(a.jsx)("div",{className:"col",children:"- "+r.runtime+" min"})]}),Object(a.jsxs)("div",{className:"row mt-2 mb-2",children:[Object(a.jsx)("div",{className:"col-3 col-sm-3",children:"Release Date"}),Object(a.jsx)("div",{className:"col",children:"- "+r.release_date})]}),Object(a.jsxs)("div",{className:"row mt-2 mb-2",children:[Object(a.jsx)("div",{className:"col-3 col-sm-3",children:"Language"}),Object(a.jsx)("div",{className:"col",children:"- "+r.original_language})]}),y?Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"button",className:"btn btn-danger mt-2",onClick:function(){return function(e){var t=f.filter((function(t){return t.id!==e.id}));p(t),B(t),S(!1)}(r)},children:"Remove from Favourites"})}):Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"button",className:"btn btn-primary mt-2",onClick:function(){return function(e){if(f.includes(e))alert("Already Favourited");else{var t=[].concat(Object(d.a)(f),[e]);p(t),B(t),S(!0)}}(r)},children:"Add to Favourites"})})]})]})]}),Object(a.jsxs)("div",{className:"mt-3",children:[Object(a.jsx)("h5",{children:"Overview"}),Object(a.jsx)("p",{children:r.overview})]}),Object(a.jsx)("h5",{children:"Similar Movies"}),Object(a.jsx)("div",{className:"movie-app container-fluid",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)(g,{movies:v})})})]})]})})};var w=function(){return Object(a.jsx)(l.a,{children:Object(a.jsxs)(o.d,{children:[Object(a.jsx)(o.b,{path:"/home",component:p}),Object(a.jsx)(o.b,{path:"/:id",component:N}),Object(a.jsx)(o.a,{to:"/home"})]})})},y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,37)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(w,{})}),document.getElementById("root")),y()}},[[36,1,2]]]);
//# sourceMappingURL=main.337f6767.chunk.js.map